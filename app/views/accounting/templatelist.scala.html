@import scala.collection.immutable.Seq

@import common.ReturnTo
@import models.User
@import models.accounting.Money.CurrencyUnit
@import models.accounting.config.{Account, MoneyReservoir, Category, Template}
@import controllers.helpers.accounting._
@import viewhelpers.Formatting._
@import views.html.accounting.parts._

@(
  templates: Seq[Template]
)(
  implicit user: User, request: Request[AnyContent], messages: Messages, flash: Flash
)

@Main(Messages("facto.templates")) {
  <h1><i class="icon-check-empty"></i> @Messages("facto.templates")</h1>

  @Panel(
    title = Messages("facto.templates"),
    panelClasses = "templates-panel"
  ) { @* panel content *@

    @for(template <- templates) {
        <a href="@(controllers.accounting.routes.TransactionGroupOperations.addNewFromTemplate(template.code
              ) ++: ReturnTo(request.uri))"
            class="btn btn-info btn-lg">
          <i class="@template.iconClass"></i> @template.name
        </a>
    }
  }
}